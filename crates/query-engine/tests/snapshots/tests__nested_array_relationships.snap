---
source: crates/query-engine/tests/tests.rs
expression: result
---
SELECT coalesce(json_agg(row_to_json("root")), '[]') AS "rows" FROM (SELECT "ArtistAlbums"."ArtistAlbums" AS "Albums" FROM "public"."Artist" AS "Artist" LEFT OUTER JOIN LATERAL (SELECT coalesce(json_agg(row_to_json("ArtistAlbums")), '[]') AS "ArtistAlbums" FROM (SELECT "AlbumTracks"."AlbumTracks" AS "Tracks" FROM "public"."Album" AS "Album" LEFT OUTER JOIN LATERAL (SELECT coalesce(json_agg(row_to_json("AlbumTracks")), '[]') AS "AlbumTracks" FROM (SELECT "Track"."Name" AS "name" FROM "public"."Track" AS "Track" WHERE (true AND ("Album"."AlbumId" = "Track"."AlbumId"))) AS "AlbumTracks") AS "AlbumTracks" ON ('true')  WHERE (true AND ("Artist"."ArtistId" = "Album"."ArtistId"))) AS "ArtistAlbums") AS "ArtistAlbums" ON ('true') ) AS "root"

[]
